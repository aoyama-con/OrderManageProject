<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css}" rel="stylesheet"  
	integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
<script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js}"
	integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
	crossorigin="anonymous"></script>
<script th:src="@{/js/common.js}"></script>
<link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/base/jquery-ui.min.css}"/>
<!-- jQuery本体 -->
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js}"></script>
<!-- jQuery UI -->
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js}"></script>
<!-- 日本語化ファイル -->
<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.4/i18n/jquery.ui.datepicker-ja.min.js}"></script>
<!-- 検索モーダル制御 -->
<script type="text/javascript" th:src="@{/js/modal.js}"></script>

<script>
	function func(type) {
		if (type == "0") {
			document.form.submit();
		} else if (type == "1") {
			$('#form').attr('action', '/checkOrderConfirm');
			document.form.submit();
		}
	}
</script>

<link th:href="@{/css/orderInput.css}" rel="stylesheet">
<head>
	<meta charset="UTF-8">
	<title>発注入力</title>
</head>
<body>

<form th:action="@{/orderInput_self}" th:method="post" th:object="${orderInputForm}" name="form" id="form">
	<input type="hidden" name="type" value="" />

	<div class="container">
		<BR>
		<div align="right">
			<button type="button" class="btn btn-primary">ログアウト</button>
		</div>

		<div align="center">
			<h2>発注入力</h2>
		</div>

		<BR>
		<div class="container">
			<table>
				<tr th:if="${validationError}" th:each="error : ${validationError}">
					<td style="color:red;" th:text="${error}"></td>
				</tr>
			</table>
		</div>

		<p class="border-bottom" align="center">
		</p>
		<BR>
		<div class="row">
			<div align="left">
			<!-- 検索条件アコーディオン -->
			<details>
				<summary class="btn btn-primary">検索条件 +</summary>
				<div class="accordion-content">
            		<p>
						部門：
						<select id="category_list" name="category">
							<option value="" selected></option>
							<option th:each="categoryInfo:${orderInputForm.categoryInfos}" th:value="${categoryInfo.key}"
								th:text="${categoryInfo.value}" th:selected="${categoryInfo.key == category}">
							</option>
						</select>
    					Gコード：<input type="text" name="groupCode">
    				</p>
    				<p>
						品番：<input type="text" name="supplierProductNo">
    					商品ID：<input type="text" name="productId">
    					商品CD：<input type="text" name="productCode">
    					商品名：<input type="text" name="productName">
    				</p>
					<!-- 検索するボタン -->
					<div align="right">
						<button type="button" class="btn btn-primary" onclick="func('0')">この条件で検索する</button>
					</div> 
  				</div>
			</details>
			</div>
		</div>
	</div>
	<BR>

	<div class="container">
		<div class="row">
			<div class="col" align="right">
				<nav aria-label="Page navigation example">
					<ul class="pagination justify-content-end">
						<li class="page-item"><a class="page-link" href="#">Previous</a></li>
						<li class="page-item"><a class="page-link" href="#">1</a></li>
						<li class="page-item"><a class="page-link" href="#">2</a></li>
						<li class="page-item"><a class="page-link" href="#">3</a></li>
						<li class="page-item"><a class="page-link" href="#">Next</a></li>
					</ul>
				</nav>
			</div>
		</div>
		<table class="table table-bordered">
			<thead class="table-info">
				<tr>
					<th scope="col" class="align-middle text-center">グループ<BR>コード</th>
					<th scope="col" class="align-middle text-center">商品ID/商品CD/商品名</th>
					<th scope="col" class="align-middle text-center">仕入先</th>
					<th scope="col" class="align-middle text-center">部門名</th>
					<th scope="col" class="align-middle text-center">在庫点数</th>
					<th scope="col" class="align-middle text-center">発注点数（発注点）</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="order : ${orderInputForm.displayList}">
					<td class="align-middle text-center" th:text="${order.groupCode}"></td>
					<td class="align-middle text-left">
						<table width="100%" style="margin :0;">
							<thead>
								<tr>
									<td rowspan="2" class="table-info align-middle text-center"><img th:src="${order.productImage}" width="50" height="50" /></td>
									<td class="table-info align-middle text-left" th:text="${order.productInfo}"></td>
								</tr>
								<tr>
									<td class="table-info align-middle text-left" th:text="${order.productName}"></td><input type="hidden" name="productId_" th:value="${order.productId}" />
								</tr>
							</thead>
						</table>
					</td>
					<td class="align-middle text-center" th:text="${order.supplierName}"></td><input type="hidden" name="supplierId_" th:value="${order.supplierId}" />
					<td class="align-middle text-center" th:text="${order.categoryName}"></td>
					<td class="align-middle text-center" th:text="${order.stockAmount}"></td>
					<td class="align-middle text-center"><input type="text" name="orderAmount_" th:value="${order.orderAmount}">(<span th:text="${order.orderPoint}"></span>)</td>
				</tr>
			</tbody>
		</table>
		<BR>
		<div align="right">
			<button type="button" class="btn btn-primary">戻る</button>
			<button type="button" class="btn btn-primary" onclick="func('1')">発注に進む</button>
		</div>
	</div>
</form>
</body>

</html>